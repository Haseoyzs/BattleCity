plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.3.72'
    id 'com.github.johnrengelman.shadow' version '5.2.0'
}

group 'org.example'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    implementation "com.jtattoo:JTattoo:1.6.13"
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

shadowJar {
    zip64 true

    baseName   'BattleCity'
    classifier   null
    version   '1.0.0'

    manifest {
        attributes 'Main-Class': 'battlecity.view.Client'
    }

    from './build/classes/kotlin/main'
    from './src/main/resources'
    from project.configurations.compile
}